<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal | Dashboard</title>
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    <style>
        /* Define a modern dark blue/cyan color palette */
        :root { 
            --bg-dark: #0f172a; /* Dark Blue Background */
            --bg-card: #1e293b; /* Slightly lighter card background */
            --accent-cyan: #06b6d4; /* Cyan Accent (for text/buttons) */
            --text-main: #f8fafc; /* Light off-white for main text */
            --text-muted: #94a3b8; /* Muted gray for small text */
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--bg-dark); 
            color: var(--text-main); 
            margin: 0; 
            display: flex; 
        }
        
        /* Sidebar Navigation */
        nav { 
            width: 240px; 
            background: var(--bg-card); 
            height: 100vh; 
            border-right: 1px solid #334155; 
            padding: 20px; 
            position: fixed; 
        }
        nav h2 { 
            color: var(--accent-cyan); /* Cyan Title */
            font-size: 1.2rem; 
            margin-bottom: 30px; 
            font-weight: 800;
        }
        nav ul { list-style: none; padding: 0; }
        nav li { 
            padding: 12px; margin: 4px 0; border-radius: 8px; cursor: pointer; 
            transition: 0.2s; color: var(--text-main); 
        }
        nav li:hover { background: #334155; color: var(--accent-cyan); }
        nav li.active { background: var(--accent-cyan); color: var(--bg-dark); font-weight: 600; }

        /* Main Content */
        main { margin-left: 240px; padding: 40px; width: 100%; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; }
        h1 { color: var(--text-main); }
        p { color: var(--text-muted); }
        .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px; }
        .stat-card { background: var(--bg-card); padding: 20px; border-radius: 12px; border: 1px solid #334155; }
        .stat-card b { color: var(--accent-cyan); }


        /* The Hidden Proxy Search */
        .search-container { background: var(--bg-card); padding: 30px; border-radius: 16px; border: 1px solid #334155; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
        .search-container h3 { margin-top: 0; color: var(--accent-cyan); }
        .input-group { display: flex; gap: 10px; margin-top: 15px; }
        input { flex: 1; padding: 12px 16px; border: 1px solid #475569; border-radius: 8px; outline: none; background: var(--bg-dark); color: var(--text-main); }
        input:focus { border-color: var(--accent-cyan); }
        button { background: var(--accent-cyan); color: var(--bg-dark); border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; }

        /* Game Cards (Disguised) */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-top: 30px; }
        .module { background: var(--bg-card); border-radius: 12px; overflow: hidden; border: 1px solid #334155; cursor: pointer; transition: 0.3s; }
        .module:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3); }
        .module-img { height: 120px; background: #334155; display: flex; align-items: center; justify-content: center; font-size: 40px; }
        .module-info { padding: 15px; }
        .module-info h4 { margin: 0; color: var(--accent-cyan); }
        .module-info p { font-size: 0.85rem; color: var(--text-muted); margin: 8px 0 0; }

        /* Loading Overlay & Spinner (Cyan Themed) */
        #loader { display: none; position: fixed; inset: 0; background: rgba(15, 23, 42, 0.95); z-index: 100; flex-direction: column; align-items: center; justify-content: center; }
        .spinner { width: 40px; height: 40px; border: 4px solid #f3f3f320; border-top: 4px solid var(--accent-cyan); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="loader">
        <div class="spinner"></div>
        <p>Connecting to secure academic server...</p>
    </div>

    <nav>
        <h2>EduPortal v4.2</h2>
        <ul>
            <li class="active">Dashboard</li>
            <li>My Courses</li>
            <li>Research Library</li>
            <li>Settings</li>
        </ul>
    </nav>

    <main>
        <div class="header">
            <div>
                <h1>Welcome back, Student</h1>
                <p>Track your assignments and access research tools.</p>
            </div>
            <div style="text-align: right">
                <strong>Status:</strong> <span style="color: var(--accent-cyan)">‚óè Connected</span>
            </div>
        </div>

        <div class="stats">
            <div class="stat-card"><b>GPA:</b> 3.8</div>
            <div class="stat-card"><b>Credits:</b> 12/15</div>
            <div class="stat-card"><b>Attendance:</b> 98%</div>
        </div>

        <div class="search-container">
            <h3>Advanced Research Search</h3>
            <p>Access external databases (JSTOR, EBSCO, PubMed) via secure gateway.</p>
            <form id="uv-form" class="input-group">
                <input type="text" id="uv-address" placeholder="Search or enter academic URL...">
                <button type="submit">Initialize Link</button>
            </form>
        </div>

        <div class="grid">
            <!-- Game: Slope -->
            <div class="module" onclick="launch('https://classroom6x.github.io')">
                <div class="module-img">üìê</div>
                <div class="module-info">
                    <h4>Physics: Geometry & Inertia</h4>
                    <p>Module 4: Calculating momentum on varying slopes.</p>
                </div>
            </div>
            <!-- Game: Tunnel Rush -->
            <div class="module" onclick="launch('https://poki.com')">
                <div class="module-img">üåÄ</div>
                <div class="module-info">
                    <h4>Neurology: Spatial Awareness</h4>
                    <p>Testing cognitive processing speed in 3D environments.</p>
                </div>
            </div>
            <!-- Game: Retro Bowl -->
            <div class="module" onclick="launch('https://retrobowl.me')">
                <div class="module-img">üèà</div>
                <div class="module-info">
                    <h4>Sports Management: Strategy</h4>
                    <p>Statistical analysis of resource allocation in teams.</p>
                </div>
            </div>
        </div>
    </main>

    <script src="/uv/uv.bundle.js"></script>
    <script src="/uv/uv.config.js"></script>
    <script>
        // ... (Keep the launch and form functions from before) ...
        const form = document.getElementById('uv-form');
        const address = document.getElementById('uv-address');
        const loader = document.getElementById('loader');

        // Function to make the title "dance"
        function danceTitle() {
            const frames = ['| Academic Portal |', '/ Academic Portal /', '- Academic Portal -', '\\ Academic Portal \\'];
            let frameIndex = 0;
            setInterval(() => {
                document.title = frames[frameIndex];
                frameIndex = (frameIndex + 1) % frames.length;
            }, 150);
        }

        // Call the function when the page loads
        danceTitle();

        async function launch(url) {
            loader.style.display = 'flex';
            if ('serviceWorker' in navigator) {
                await navigator.serviceWorker.register('/uv.sw.js', { scope: __uv$config.prefix });
            }
            window.location.href = __uv$config.prefix + __uv$config.encodeUrl(url);
        }

        form.onsubmit = async (e) => {
            e.preventDefault();
            launch(address.value);
        };
    </script>
</body>
</html>
